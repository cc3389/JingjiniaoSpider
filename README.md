# 项目简介

本项目是一个用于爬取和分析荆棘鸟论坛数据的爬虫工具。它能够从指定的论坛板块中提取文章信息，并生成详细的统计报告和可视化图表。

## 功能

🔍 **首次全量数据爬取**：第一次运行时完整采集所有历史文章数据

📥 **智能增量更新**：后续运行时自动对比 data.csv，仅爬取新发布的内容

📝 **核心数据采集**：抓取文章标题、作者、评论数、浏览量、点赞数等信息

📊 **趋势分析报告**：生成文章发表时间趋势图，展示社区活跃度

📈 **互动数据统计**：分析文章质量指标，包括字数统计和互动度量化

👑 **作者影响力榜**：计算作者活跃度和影响力，生成排行榜单

🏆 **近期文章推荐**：基于互动数据筛选高质量文章，提供阅读建议

📊 **可视化图表**：自动生成数据分析图表，直观展示统计结果

💾 **数据导出支持**：支持导出 CSV 格式的详细数据报告

## 依赖

项目依赖以下Python库：

- `requests`
- `beautifulsoup4`
- `retrying`
- `python-docx`
- `pandas`
- `matplotlib`
- `seaborn`
- `pyyaml`

请确保在运行项目之前安装这些依赖。可以使用以下命令安装：

```bash
pip install -r requirements.txt
```

## 使用方法

1. **配置文件**：在`config.yaml`中配置爬虫的基本参数，包括请求超时时间、重试次数、线程池大小等。

2. **请求头配置**：在`headers.json`中配置HTTP请求头，以便模拟浏览器请求，避免被目标网站屏蔽。确保文件格式为JSON，并包含必要的头信息，如`User-Agent`。

3. **运行爬虫**：执行`main.py`文件，开始爬取数据。爬虫会根据配置文件中的板块URL逐一爬取数据。

4. **数据分析**：爬取完成后，程序会自动进行数据分析，并在`分析报告`目录下生成统计报告和图表。

5. **查看报告**：在`分析报告`目录下查看生成的报告文件，包括CSV格式的文章和作者排名、统计报告文本文件、以及可视化图表。

## 代码结构

- `main.py`：项目的入口文件，负责初始化配置并启动爬虫。
- `util.py`：包含通用的工具函数和类，如文件处理、配置加载等。
- `myThread.py`：实现具体的爬虫逻辑，包括文章内容的提取和图片下载。
- `forum.py`：负责处理论坛页面的解析和数据提取。
- `analysis.py`：实现数据分析和报告生成的功能。

## 注意事项

- 确保网络连接正常，以便爬虫能够顺利访问目标网站。
- 运行爬虫时，可能会消耗较多的网络带宽和计算资源，请根据实际情况调整线程池大小。

## 示例

以下是如何运行项目的示例：

```bash
python main.py
```

运行后，程序会自动爬取数据并生成报告。您可以在`分析报告`目录下查看生成的文件。

