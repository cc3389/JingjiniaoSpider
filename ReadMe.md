# 项目简介

本项目是一个用于爬取和分析荆棘鸟论坛数据的爬虫工具。它能够从指定的论坛板块中提取文章信息，并生成详细的统计报告和可视化图表。

## 功能

- **✨ 增量爬虫**：从指定的论坛板块中爬取文章信息，第一次全量爬取，后续根据data.scv增量爬取，包括标题、作者、评论数、浏览数、点赞数、收藏数、字数等。
- **📊 数据分析**：对爬取的数据进行分析，生成文章发表趋势、文章质量分析、作者排名等报告。
- **📈 报告生成**：生成详细的统计报告和可视化图表，帮助用户了解论坛的文章发表情况和作者表现。

## 依赖

项目依赖以下Python库：

- `requests`
- `beautifulsoup4`
- `retrying`
- `python-docx`
- `pandas`
- `matplotlib`
- `seaborn`
- `pyyaml`

请确保在运行项目之前安装这些依赖。可以使用以下命令安装：

```bash
pip install -r requirements.txt
```

## 使用方法

1. **配置文件**：在`config.yaml`中配置爬虫的基本参数，包括请求超时时间、重试次数、线程池大小等。

2. **请求头配置**：在`headers.json`中配置HTTP请求头，以便模拟浏览器请求，避免被目标网站屏蔽。确保文件格式为JSON，并包含必要的头信息，如`User-Agent`。

3. **运行爬虫**：执行`main.py`文件，开始爬取数据。爬虫会根据配置文件中的板块URL逐一爬取数据。

4. **数据分析**：爬取完成后，程序会自动进行数据分析，并在`分析报告`目录下生成统计报告和图表。

5. **查看报告**：在`分析报告`目录下查看生成的报告文件，包括CSV格式的文章和作者排名、统计报告文本文件、以及可视化图表。

## 代码结构

- `main.py`：项目的入口文件，负责初始化配置并启动爬虫。
- `util.py`：包含通用的工具函数和类，如文件处理、配置加载等。
- `myThread.py`：实现具体的爬虫逻辑，包括文章内容的提取和图片下载。
- `forum.py`：负责处理论坛页面的解析和数据提取。
- `analysis.py`：实现数据分析和报告生成的功能。

## 注意事项

- 确保网络连接正常，以便爬虫能够顺利访问目标网站。
- 运行爬虫时，可能会消耗较多的网络带宽和计算资源，请根据实际情况调整线程池大小。

## 示例

以下是如何运行项目的示例：

```bash
python main.py
```

运行后，程序会自动爬取数据并生成报告。您可以在`分析报告`目录下查看生成的文件。

